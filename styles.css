:root{
  --accent:#FFAE1A;       /* Accent */
  --muted:#4B4D6F;        /* Text */
  --border:#DDDDDD;       /* Border */
  --panel-bg:#FFFFFF;     /* White */
  --primary:#1E1E2F;      /* Primary/Secondary */
  --light-bg:#F3F4FA;     /* Light BG */
  --gray-bg:#F3F3F3;      /* Gray BG */
}

#cq-widget-advanced-only{
  font-family:'Prompt', sans-serif;
  color:var(--primary);
  box-sizing:border-box;
}

/* ------------------------ */
/* Layout Panels */
/* ------------------------ */
.cq-top{
  display:flex;
  gap:20px;
  margin-bottom:16px;
}
.cq-col{
  flex:1;
  min-width:0;
}
.cq-left,.cq-right{
  border:1px solid var(--border);
  border-radius:15px;
  padding:20px;
  background:var(--panel-bg);
  display:flex;
  flex-direction:column;
}

@media(max-width:600px){
  .cq-top{
    flex-direction:column;
    gap:12px;
  }
}

/* ------------------------ */
/* Inputs */
/* ------------------------ */
label{
  font-size:13px;
  margin-bottom:6px;
}
input[type=number]{
  width:100%;
  padding:10px;
  border:1px solid #dcdce6;
  border-radius:8px;
  font-size:15px;
}
.cq-btn{
  padding:10px;
  border-radius:8px;
  background:#ccc;
  color:#999;
  cursor:not-allowed;
  border:0;
}
.cq-btn.active{
  background:var(--primary);
  color:#fff;
  cursor:pointer;
}
.small{
  font-size:13px;
  color:var(--muted);
}
.error{
  color:#b00020;
  font-size:13px;
  margin-top:6px;
  display:none;
}

.advanced-row{
  margin-top:8px;
  display:flex;
  align-items:center;
  gap:12px;
}
.adv-info{
  font-size:12px;
  color:var(--muted);
}

.extras-row{
  display:flex;
  gap:10px;
  margin-bottom:12px;
}
.extras-row .half{
  flex:1;
}

/* ------------------------ */
/* KPI Values */
/* ------------------------ */
.kpi-line{
  display:flex;
  justify-content:space-between;
  margin:6px 0;
}
.kpi-divider{
  border-top:1px solid #eee;
  margin:12px 0;
}

/* ------------------------ */
/* Donut Chart */
/* ------------------------ */
.donut-wrap{
  display:flex;
  flex-direction:column;
  align-items:center;
  margin-top:10px;
}
.donut-svg{
  width:180px;
  height:180px;
}

.chart-tooltip {
  position: fixed;
  display: none;
  background: rgba(0, 0, 0, 0.8);
  color: #fff;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 14px;
  pointer-events: none;
  z-index: 1000;
  white-space: nowrap;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  transition: opacity 0.2s, transform 0.1s;
}


.legend{
  display:flex;
  gap:12px;
  font-size:13px;
  color:var(--muted);
}
.swatch{
  width:14px;
  height:14px;
  border-radius:3px;
}
.swatch.principal{ background:#1E1E2F; }
.swatch.interest{ background:#FFAE1A; }

/* ------------------------ */
/* Amortization Section */
/* ------------------------ */
.toggle-link{
  display:none;
  margin-top:12px;
  color:var(--accent);
  text-decoration:underline;
  cursor:pointer;
}

.am-full{
  margin-top:18px;
  border:1px solid var(--border);
  border-radius:12px;
  padding:6px;
}
.am-head{
  display:flex;
  justify-content:space-between;
  padding:6px 8px;
}
.am-note{
  font-size:13px;
  color:var(--muted);
}

/* --------------------------------------------------- */
/* 100% PERFECT COLUMN ALIGNMENT (FINAL FIX APPLIED)  */
/* --------------------------------------------------- */

/* YEAR ROW = 5 COLUMNS (Matches table layout exactly) */
.acc-row{
  display:grid;
  grid-template-columns:150px 1fr 1fr 1fr 1fr; /* EXACT match */
  padding:10px 12px;
  align-items:center;
  border-bottom:1px solid #f1f3f8;
  cursor:pointer;
  background:#fff;
}
.acc-row:hover{
  background:#f9f9f9;
}
.acc-row .year{
  font-weight:400;
  color:var(--primary);
  display: flex;
  align-items: center;
  gap: 8px;
  transition: color 0.2s ease;
}
.acc-row:hover .year{
  color:var(--accent);
}
.acc-row .icon {
  font-size: 38px; /* Increased size */
  line-height: 1;
  font-weight: 300;
}
.acc-row .num{
  text-align:right;
}

/* MONTH PANELS */
.acc-panel{
  display:none;
  padding:10px 0 18px;
}

/* ------------------------ */
/* Month Table */
/* ------------------------ */
.month-table{
  width:100%;
  border-collapse:collapse;
  table-layout:fixed; /* REQUIRED to align with grid */
}

/* Match 5 column design */
.month-table th:nth-child(1),
.month-table td:nth-child(1){
  width:150px; /* matches Year column */
  text-align:left;
}

.month-table th:nth-child(n+2),
.month-table td:nth-child(n+2){
  width:1fr; /* evenly distributed numeric columns */
  text-align:right;
}

.month-table th,
.month-table td{
  padding:8px;
  border-bottom:1px solid #eee;
  font-size:14px;
}
.month-table th{
  color:var(--muted);
  text-align:left;
}
.month-table td.left{
  text-align:left;
}

/* ------------------------ */
/* CSV Section */
/* ------------------------ */
.btn-primary{
  background:var(--accent);
  padding:8px 14px;
  border-radius:8px;
  cursor:pointer;
  border:0;
}
.csv-ctas{
  margin-top:12px;
  display:flex;
  gap:10px;
  justify-content:flex-end;
}
